{"version":3,"sources":["initium.ts"],"names":["Initium","canvas","fps","context","loop","scene","$","each","idx","object1","update","image","ImageLoader","load","limitLoop","doStuff","fn","then","Date","getTime","interval","requestAnimationFrame","now","delta"],"mappings":";;;;;;;;;;IAEcA,O;AAOV,qBAAYC,MAAZ,EAAwB;AAAA;;AACpB,aAAKC,GAAL,GAAW,EAAX;AACA,aAAKD,MAAL,GAAcA,MAAd;AACA,aAAKE,OAAL,GAAe,IAAf;AACA,aAAKC,IAAL,GAAY,KAAZ;AACA,aAAKC,KAAL,GAAa,EAAb;AACH;;;;iCAEe;AAChBC,cAAEC,IAAF,CAAO,KAAKF,KAAZ,EACI,UAAUG,GAAV,EAAeC,OAAf,EAAsB;AAClBA,wBAAQC,MAAR;AACH,aAHL;AAKH;;;gCAEe;AACR,gBAAIC,QAAQ,IAAIC,WAAJ,EAAZ;AACAD,kBAAME,IAAN;AAEA,iBAAKC,SAAL,CAAe,KAAKC,OAApB;AACH;;;kCAEa;AACV;AACH;;;kCAEiBC,E,EAAO;AAErB;AACA;AACA,gBAAIC,OAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAX;AAEA;AACA,gBAAIC,WAAW,OAAO,KAAKlB,GAA3B;AAEA,mBAAQ,SAAAE,IAAA,GAAA;AACJiB,sCAAsBjB,IAAtB;AAEA;AACA,oBAAIkB,MAAM,IAAIJ,IAAJ,GAAWC,OAAX,EAAV;AACA,oBAAII,QAAQD,MAAML,IAAlB;AAEA,oBAAIM,QAAQH,QAAZ,EAAsB;AAClB;AACA;AACA;AACAH,2BAAOK,MAAOC,QAAQH,QAAtB;AAEA;AACAJ;AACH;AACJ,aAhBM,EAAP;AAiBH;;;;;;kBA5DShB,O","file":"initium.js","sourcesContent":["import {Renderer} from \"renderer\";\n\nexport default class Initium {\n    private canvas: any;\n    private fps: number;\n    private context: any;\n    private loop: boolean;\n    private scene: Array<any>;\n\n    constructor(canvas : any) {\n        this.fps = 60;\n        this.canvas = canvas;\n        this.context = null;\n        this.loop = false;\n        this.scene = [];\n    }\n\n    protected update() {\n    $.each(this.scene,\n        function (idx, object1) {\n            object1.update();\n        }\n    );\n}\n\n    public start() {\n        let image = new ImageLoader();\n        image.load();\n\n        this.limitLoop(this.doStuff);\n    }\n\n    public doStuff() {\n        // console.debug('test')\n    }\n\n    private limitLoop(fn: any) {\n\n        // Use let then = Date.now(); if you\n        // don't care about targetting < IE9\n        let then = new Date().getTime();\n\n        // custom fps, otherwise fallback to 60\n        let interval = 1000 / this.fps;\n\n        return (function loop() {\n            requestAnimationFrame(loop);\n\n            // again, Date.now() if it's available\n            let now = new Date().getTime();\n            let delta = now - then;\n\n            if (delta > interval) {\n                // Update time\n                // now - (delta % interval) is an improvement over just\n                // using then = now, which can end up lowering overall fps\n                then = now - (delta % interval);\n\n                // call the fn\n                fn();\n            }\n        })();\n    }\n}"],"sourceRoot":"/source/"}